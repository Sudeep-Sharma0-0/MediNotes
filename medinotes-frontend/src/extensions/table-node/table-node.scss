.custom-table {
  width: 100%;
  border-collapse: collapse;
  border-radius: var(--tt-radius-md);
  overflow: scroll;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  background-color: var(--tt-card-bg-color);
  border: 1px solid var(--tt-card-border-color);
  table-layout: fixed;

  .selectedCell:after {
    background: var(--gray-2);
    content: '';
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    pointer-events: none;
    position: absolute;
    z-index: 2;
  }

  .column-resize-handle {
    background-color: var(--purple);
    bottom: -2px;
    pointer-events: none;
    position: absolute;
    right: -2px;
    top: 0;
    width: 4px;
  }

  .tableWrapper {
    margin: 1.5rem 0;
    overflow-x: auto;
  }

  &.resize-cursor {
    cursor: ew-resize;
    cursor: col-resize;
  }

  tbody {
    div[data-node-view-content-react][data-node-view-wrapper] {
      width: auto !important;
    }

    tr {
      border-bottom: 1px solid var(--tt-border-color-tint);
      transition: background-color var(--tt-transition-duration-short) var(--tt-transition-easing-default);

      &:hover {
        background-color: var(--tt-gray-light-a-50);
      }
    }

    th {
      padding: 10px 12px;
      border-bottom: 1px solid var(--tt-border-color);
      text-align: left; // default, can be overridden by alignment classes
      color: var(--tt-color-text-gray);
      box-sizing: border-box;
      position: relative;
    }

    td {
      padding: 10px 12px;
      text-align: left; // default, overridden by alignment classes
      color: var(--tt-color-text-gray);

      pre {
        font-size: 0.85em;
        background-color: var(--tt-gray-light-a-50);
        padding: 4px 6px;
        border-radius: var(--tt-radius-xs);
        overflow-x: auto;
      }

      a {
        color: var(--tt-cursor-color);
        text-decoration: none;

        &:hover {
          text-decoration: underline;
        }
      }
    }

    /* Dark mode override */
    .dark {
      .custom-table {
        background-color: var(--tt-card-bg-color);
        border: 1px solid var(--tt-card-border-color);

        tbody {
          div[data-node-view-content-react][data-node-view-wrapper] {
            width: auto !important;
          }

          tr {
            border-bottom: 1px solid var(--tt-border-color-tint);

            &:hover {
              background-color: var(--tt-gray-dark-a-50);
            }
          }

          th {
            border-bottom: 1px solid var(--tt-border-color);
            color: var(--tt-color-text-gray);
          }

          td {
            color: var(--tt-color-text-gray);

            pre {
              background-color: var(--tt-gray-dark-a-50);
            }

            a {
              color: var(--tt-cursor-color);
            }
          }
        }
      }
    }
  }
}
